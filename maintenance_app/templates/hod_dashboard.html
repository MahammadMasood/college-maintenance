{% extends 'base.html' %}
{% block title %}HOD Dashboard{% endblock %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h3>HOD Dashboard</h3>
  <a href="{% url 'new_request' %}" class="btn btn-primary">+ New Request</a>
</div>
<table class="table table-striped">
  <thead class="table-primary">
    <tr>
      <th>Title</th><th>Lab</th><th>Status</th><th>Date</th><th>Action</th>
    </tr>
  </thead>
  <tbody>
    {% for r in requests %}
    <tr>
      <td>{{ r.title }}</td>
      <td>{{ r.lab_name }}</td>
      <td>
        {% if r.status == 'Pending' %}<span class="badge bg-warning">Pending</span>
        {% elif r.status == 'Approved' %}<span class="badge bg-success">Approved</span>
        {% else %}<span class="badge bg-danger">{{ r.status }}</span>{% endif %}
      </td>
      <td>{{ r.date_submitted|date:'d M Y H:i' }}</td>
      <td><a href="{% url 'request_detail' r.pk %}" class="btn btn-sm btn-outline-primary">View</a></td>
    </tr>
    {% empty %}<tr><td colspan="5">No requests submitted yet.</td></tr>{% endfor %}
  </tbody>
</table>
{% endblock %}
